/*!
* Project: foxneod 0.1.4
* Last Modified: Tuesday, May 7th, 2013, 4:14:29 PM
* Author(s): https://twitter.com/brandonaaskov
*/

(function(){var e,t,n;(function(r){function i(e,t){return x.call(e,t)}function a(e,t){var n,r,i,a,o,u,l,c,f,s,p=t&&t.split("/"),d=y.map,g=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),c=0;e.length>c;c+=1)if(s=e[c],"."===s)e.splice(c,1),c-=1;else if(".."===s){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||g)&&d){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),p)for(f=p.length;f>0;f-=1)if(i=d[p.slice(0,f).join("/")],i&&(i=i[r])){a=i,o=c;break}if(a)break;!u&&g&&g[r]&&(u=g[r],l=c)}!a&&u&&(a=u,o=l),a&&(n.splice(0,o,a),e=n.join("/"))}return e}function o(e,t){return function(){return d.apply(r,w.call(arguments,0).concat([e,t]))}}function u(e){return function(t){return a(t,e)}}function l(e){return function(t){v[e]=t}}function c(e){if(i(m,e)){var t=m[e];delete m[e],b[e]=!0,p.apply(r,t)}if(!i(v,e)&&!i(b,e))throw Error("No "+e);return v[e]}function f(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,d,g,h,v={},m={},y={},b={},x=Object.prototype.hasOwnProperty,w=[].slice;g=function(e,t){var n,r=f(e),i=r[0];return e=r[1],i&&(i=a(i,t),n=c(i)),i?e=n&&n.normalize?n.normalize(e,u(t)):a(e,t):(e=a(e,t),r=f(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},h={require:function(e){return o(e)},exports:function(e){var t=v[e];return t!==void 0?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:s(e)}}},p=function(e,t,n,a){var u,f,s,p,d,y,x=[];if(a=a||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,d=0;t.length>d;d+=1)if(p=g(t[d],a),f=p.f,"require"===f)x[d]=h.require(e);else if("exports"===f)x[d]=h.exports(e),y=!0;else if("module"===f)u=x[d]=h.module(e);else if(i(v,f)||i(m,f)||i(b,f))x[d]=c(f);else{if(!p.p)throw Error(e+" missing "+f);p.p.load(p.n,o(a,!0),l(f),{}),x[d]=v[f]}s=n.apply(v[e],x),e&&(u&&u.exports!==r&&u.exports!==v[e]?v[e]=u.exports:s===r&&y||(v[e]=s))}else e&&(v[e]=n)},e=t=d=function(e,t,n,i,a){return"string"==typeof e?h[e]?h[e](t):c(g(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=i,i=a),i?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),d)},d.config=function(e){return y=e,y.deps&&d(y.deps,y.callback),d},n=function(e,t,n){t.splice||(n=t,t=[]),i(v,e)||i(m,e)||(m[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("almond",function(){}),n("utils",[],function(){var e=function(e){for(var t={},n=0,r=e.length;r>n;n++){var i=e[n];if(-1!==i.indexOf("=")){var a=i.split("=");t[a[0]]=a[1]}else t[n]=i}return t},t=function(e){var t=[];for(var n in e){if(_.isObject(e[n])||_.isArray(e[n]))throw Error("objectToArray only supports shallow objects (no nested objects or arrays).");t.push(n+"="+e[n])}return t},n=function(e,t){for(var n in e)if(_.has(e,n)&&e[n]===t)return n;return""},r=function(e){for(var t={},n=e.split("|"),r=0,i=n.length;i>r;r++){var a=n[r].split("="),o=a[1]||null;t[a[0]]=o}return t},i=function(e,t){var n=[];for(var r in e)n.push(r+"="+e[r]);return n.join(t||"|")},a=function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t},o=function(e){if(!_.isUndefined(e)){if(!_.isString(e))throw Error("The value supplied to getColorFromString() should be a string, not whatever you passed in.");var t=6===e.length||7===e.length;if(t)return 6===e.length&&-1===e.indexOf("#")&&(e="#"+e),e.toLowerCase()}return null},u=function(e){var t=e+"",n=(t+"").indexOf("px");return-1===n&&(t+="px"),t},l=function(e){e+="";var t=e.indexOf("px");return-1!==t&&t===e.length-2?e.substr(0,t):e},c=function(e,t){var n=document.createEvent("Event"),r="foxneod:"+e;n.initEvent(r,!0,!0),n.customData=t||{},window.dispatchEvent(n)},f=window.location.href,s=function(t){var n={};if(t=t||f,-1!==t.indexOf("?")){var r=t.split("?"),i=r[1].split("&");if(-1!==r[1].indexOf("|"))for(var a=0,o=i.length;o>a;a++){var u=i[a],l=u.indexOf("=");if(-1!==l){var c=u,s=u.substr(0,l);n[s]={};for(var p=c.split("|"),d=0,g=p.length;g>d;d++){var h=p[d].split("="),v=h[0],m=h[1];-1!==r[1].indexOf("&")?(c=u.substr(l+1),n[s][v]=m):n[v]=m}}}else n=e(i)}return n},p=function(e){var t=s();if(_.isObject(t))for(var n in t)if(n===e)return t[n]},d=function(e,t,n){var r=s(n);for(var i in r)if(r.hasOwnProperty(i)&&i===e)return t?r[i]===t?!0:!1:!0;return!1},g=function(e){this.url=e};return{arrayToObject:e,objectToArray:t,getKeyFromValue:n,pipeStringToObject:r,objectToPipeString:i,lowerCasePropertyNames:a,getColorFromString:o,addPixelSuffix:u,removePixelSuffix:l,dispatchEvent:c,dispatch:c,getParamValue:p,getQueryParams:s,paramExists:d,setURL:g}}),n("error",[],function(){var e=function(e){var n=t();for(var r in e)n[r]&&(n[r]=e[r]);return n},t=function(){return{category:"",message:"",timestamp:(new Date).getTime()}};return{getErrorObject:e,getEmptyErrorObject:t}}),n("debug",["utils","error"],function(e,t){var n="undefined",r=function(e,t,r){if(n||"!"===r){var a;if(!_.isUndefined(e)&&_.isObject(e)){var o=arguments[0];a=i(o.category,o.message),r=o.type}else a=i(e,t);switch(a.message+=" | ",r){case"log":console.log(a.message,a.data);break;case"warn":console.warn(a.message,a.data);break;case"error":console.error(a.message,a.data);break;default:console.log(a.message,a.data)}}},i=function(e,n){var i="foxneod-0.1.4: ",a=n||{},o=t.getEmptyErrorObject();return"string"==typeof e?i+=e:(o=t.getEmptyerrorObject(),o.category="Type Mismatch",o.message="The log message you supplied wasn't a string",r(o.category,o,"warn")),{message:i,data:a}},a=function(e,t,n){var i=o(t),a=o(n);if(i!==a){var u=u.getEmptyerrorObject();u.category="Library Issue",u.message="Another library was added to the page and is overwriting one that this app is using. The app expected "+e+"-"+i+" and got "+e+"-"+a+" instead.",r(u.category,u,"warn")}},o=function(e){var t;if(e.version)t=e.version;else if(e._VERSION)t=e._VERSION;else if(e._version)t=e._version;else try{t=e().jquery}catch(n){}return t};return function(){n=e.paramExists("debug","true")}(),{log:r,checkForVersionChange:a}}),n("player/iframe",["utils","debug"],function(e){var t=function(e){var t=[];return e&&(t=document.querySelectorAll(e)),t},n=function(t){for(var n=t.attributes,r={},i=0,a=n.length;a>i;i++){var o=n[i],u=o.nodeName;if(-1!==u.indexOf("data-player")){r=e.pipeStringToObject(o.nodeValue);var l=e.lowerCasePropertyNames(r),c={width:_.has(l,"width")?l.width:640,height:_.has(l,"height")?l.height:360};r.iframeHeight=_.has(l,"iframeheight")?l.iframeheight:c.height,r.iframeWidth=_.has(l,"iframewidth")?l.iframewidth:c.width}}return r},r=function(t,n,r){if(!t||!_.isObject(t))throw Error("The injectIframe() method expected an element, and it expects it to be an basic js object (not an array of elements).");var i=e.objectToPipeString(n);n=e.lowerCasePropertyNames(n),t.innerHTML='<iframe src="'+r+"?"+i+'"'+'scrolling="no" '+'frameborder="0" '+'width="'+n.iframewidth+'"'+'height="'+n.iframeheight+'"></iframe>'},i=function(e,i){for(var a=t(e),o=0,u=a.length;u>o;o++){var l=a[o],c=n(l);r(l,c,i)}};return{injectIframePlayers:i}}),n("css",["utils","debug"],function(e){var t=function(t){var n="",r=e.lowerCasePropertyNames(t);for(var i in r)switch(i){case"display":n+="display: "+r.display+";";break;case"position":n+="position: "+r.position+";";break;case"top":n+="top: "+e.addPixelSuffix(r.top)+";";break;case"left":n+="left: "+e.addPixelSuffix(r.left)+";";break;case"right":n+="right: "+e.addPixelSuffix(r.right)+";";break;case"bottom":n+="bottom: "+e.addPixelSuffix(r.bottom)+";";break;case"margin":n+="margin: "+e.addPixelSuffix(r.margin)+";";break;case"margintop":n+="margin-top: "+e.addPixelSuffix(r.margintop)+";";break;case"marginright":n+="margin-right: "+e.addPixelSuffix(r.marginright)+";";break;case"marginbottom":n+="margin-bottom: "+e.addPixelSuffix(r.marginbottom)+";";break;case"marginleft":n+="margin-left: "+e.addPixelSuffix(r.marginleft)+";";break;case"padding":n+="padding: "+e.addPixelSuffix(r.padding)+";";break;case"paddingtop":n+="padding-top: "+e.addPixelSuffix(r.paddingtop)+";";break;case"paddingright":n+="padding-right: "+e.addPixelSuffix(r.paddingright)+";";break;case"paddingbottom":n+="padding-bottom: "+e.addPixelSuffix(r.paddingbottom)+";";break;case"paddingleft":n+="padding-left: "+e.addPixelSuffix(r.paddingleft)+";";break;case"textalign":n+="text-align: "+r.textalign+";";break;case"width":n+="width: "+e.addPixelSuffix(r.width)+";";break;case"height":n+="height: "+e.addPixelSuffix(r.height)+";";break;case"bgcolor":n+="background-color: "+e.getColorFromString(r.bgcolor)+";";break;case"color":n+="color: "+e.getColorFromString(r.color)+";";break;case"fontsize":var a=r.fontsize;n+="font-size: "+e.addPixelSuffix(a)+";";break;case"fontfamily":n+="font-family: "+r.fontfamily+";";break;case"fontweight":n+="font-weight: "+r.fontweight+";";break;case"lineheight":n+="line-height: "+e.addPixelSuffix(r.lineheight)+";";break;case"zindex":_.isNumber(r.zindex)&&(n+="z-index: "+r.zindex+";");break;case"opacity":n+="filter: alpha(opacity="+100*r.opacity+");",n+="opacity: "+r.opacity+";";break;case"buttons":}return n},n=function(e,t,n){var r=_.isString(arguments[0])?document.querySelector(e):e,i=r.getAttribute("style");-1!==i.indexOf(t)?i=i.replace(/style/g,n):i+=t+": "+n+";",r.setAttribute("style",i)};return{getStyles:t,updateStyles:n}}),n("modal",["css","utils","debug"],function(e,t,n){var r=function(e){var t={message:"",resetPlayer:!1,clearAfter:0};for(var r in e)t[r]=e[r];try{if(FDM_Player_vars.isFlash&&_.isObject($pdk))$pdk.controller.resetPlayer(),$pdk.controller.setPlayerMessage(t.message,t.clearAfter);else if(FDM_Player_vars.isIOS)for(var a=document.querySelectorAll(".tpPlayer"),u=0,l=a.length;l>u;u++){var f=a[u],s=o({width:f.offsetWidth,height:f.offsetHeight,text:t.message});_.isElement(f)&&_.isElement(s)&&(f.insertBefore(s,f.firstChild),c(".js-modal-container"),i(1e3*t.clearAfter)),t.resetPlayer&&(console.log("!!!!!! resetting the player internally"),$pdk.controller.loadReleaseURL("http://domain.com/dummyURL/",!0))}}catch(p){n.log("The try/catch for the modal stuff failed")}},i=function(e){var t=document.querySelectorAll(".js-modal-overlay"),n=function(){for(var e=0,n=t.length;n>e;e++){var r=t[e];r.parentNode.removeChild(r)}};e>0&&setTimeout(n,e)},a=function(e,t,n){var r=n||[];if(t&&_.isObject(t))for(var i in t){var a=i.toLowerCase(),o=t[i];if(e.hasOwnProperty(a)){for(var u=!1,l=0,c=r.length;c>l;l++)a===r[l]&&(u=!0);u||("buttons"!==a||_.isArray(o)||(t[a]=[]),"opacity"===a&&_.isNumber(o)&&o>=1&&100>=o&&(t[i]=o/100),e[a]=o)}}return e||{}},o=function(t){var n={text:"",position:"absolute",top:0,left:0,width:640,height:360,bgcolor:"#000000",opacity:1,zindex:10,textalign:"center",padding:0,buttons:[]},r={color:"#FFFFFF",fontsize:18,fontweight:"normal",margin:0,padding:25,lineheight:27},i=a(n,t),o="";if(_.isArray(i.buttons))for(var c=0,f=i.buttons.length;f>c;c++){var s=i.buttons[c];l(s),o+=l(s)}var p={margin:"0px auto",position:"relative"},d='<div class="js-modal-container" style="'+e.getStyles(p)+'">\n        <h4 style="'+e.getStyles(r)+'">'+i.text+'</h4>\n        <div class="js-modal-buttons">\n            '+u(i.buttons)+"\n        </div>\n    </div>",g=document.createElement("div");return g.setAttribute("class","js-modal-overlay"),g.setAttribute("style",e.getStyles(i)),g.innerHTML=d,g},u=function(e){var t="";if(_.isArray(e))for(var n=0,r=e.length;r>n;n++){var i=e[n];t+=l(i)}return t},l=function(t){var n={width:100,height:40,text:"Okay",color:"#000000"},r=a(n,t),i='<button class="modalButton" style="'+e.getStyles(r)+'">'+r.text+"</button>";return i},c=function(n){try{var r=document.querySelector(n),i=r.parentNode;i.offsetHeight,r.offsetHeight;var a=Math.round(i.offsetHeight/2-r.offsetHeight/2);e.updateStyles(r,"top",t.addPixelSuffix(a))}catch(o){}};return{displayModal:r,remove:i}}),n("player",["player/iframe","modal","debug"],function(e,t,n){var r=function(e){_.isObject(e)?t.displayModal(e):n.log("setPlayerMessage expected 1 argument: an object of options.",e)},i=function(){t.remove()};return{setPlayerMessage:r,clearPlayerMessage:i,injectIframePlayers:e.injectIframePlayers}}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,a=Function.prototype,o=r.push,u=r.slice,l=r.concat,c=i.toString,f=i.hasOwnProperty,s=r.forEach,p=r.map,d=r.reduce,g=r.reduceRight,h=r.filter,v=r.every,m=r.some,y=r.indexOf,b=r.lastIndexOf,x=Array.isArray,w=Object.keys,j=a.bind,_=function(e){return e instanceof _?e:this instanceof _?(this._wrapped=e,void 0):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.4.4";var O=_.each=_.forEach=function(e,t,r){if(null!=e)if(s&&e.forEach===s)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(_.has(e,o)&&t.call(r,e[o],o,e)===n)return};_.map=_.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(O(e,function(e,i,a){r.push(t.call(n,e,i,a))}),r)};var k="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return r&&(t=_.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(O(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError(k);return n},_.reduceRight=_.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return r&&(t=_.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=_.keys(e);a=o.length}if(O(e,function(u,l,c){l=o?o[--a]:--a,i?n=t.call(r,n,e[l],l,c):(n=e[l],i=!0)}),!i)throw new TypeError(k);return n},_.find=_.detect=function(e,t,n){var r;return S(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},_.filter=_.select=function(e,t,n){var r=[];return null==e?r:h&&e.filter===h?e.filter(t,n):(O(e,function(e,i,a){t.call(n,e,i,a)&&r.push(e)}),r)},_.reject=function(e,t,n){return _.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},_.every=_.all=function(e,t,r){t||(t=_.identity);var i=!0;return null==e?i:v&&e.every===v?e.every(t,r):(O(e,function(e,a,o){return(i=i&&t.call(r,e,a,o))?void 0:n}),!!i)};var S=_.some=_.any=function(e,t,r){t||(t=_.identity);var i=!1;return null==e?i:m&&e.some===m?e.some(t,r):(O(e,function(e,a,o){return i||(i=t.call(r,e,a,o))?n:void 0}),!!i)};_.contains=_.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):S(e,function(e){return e===t})},_.invoke=function(e,t){var n=u.call(arguments,2),r=_.isFunction(t);return _.map(e,function(e){return(r?t:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.where=function(e,t,n){return _.isEmpty(t)?n?void 0:[]:_[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},_.findWhere=function(e,t){return _.where(e,t,!0)},_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return O(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return O(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;r.computed>o&&(r={value:e,computed:o})}),r.value},_.shuffle=function(e){var t,n=0,r=[];return O(e,function(e){t=_.random(n++),r[n-1]=r[t],r[t]=e}),r};var P=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,n){var r=P(t);return _.pluck(_.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var E=function(e,t,n,r){var i={},a=P(null==t?_.identity:t);return O(e,function(t,o){var u=a.call(n,t,o,e);r(i,u,t)}),i};_.groupBy=function(e,t,n){return E(e,t,n,function(e,t,n){(_.has(e,t)?e[t]:e[t]=[]).push(n)})},_.countBy=function(e,t,n){return E(e,t,n,function(e,t){_.has(e,t)||(e[t]=0),e[t]++})},_.sortedIndex=function(e,t,n,r){n=null==n?_.identity:P(n);for(var i=n.call(r,t),a=0,o=e.length;o>a;){var u=a+o>>>1;i>n.call(r,e[u])?a=u+1:o=u}return a},_.toArray=function(e){return e?_.isArray(e)?u.call(e):e.length===+e.length?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:e.length===+e.length?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},_.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},_.rest=_.tail=_.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var A=function(e,t,n){return O(e,function(e){_.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};_.flatten=function(e,t){return A(e,t,[])},_.without=function(e){return _.difference(e,u.call(arguments,1))},_.uniq=_.unique=function(e,t,n,r){_.isFunction(t)&&(r=n,n=t,t=!1);var i=n?_.map(e,n,r):e,a=[],o=[];return O(i,function(n,r){(t?r&&o[o.length-1]===n:_.contains(o,n))||(o.push(n),a.push(e[r]))}),a},_.union=function(){return _.uniq(l.apply(r,arguments))},_.intersection=function(e){var t=u.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=l.apply(r,u.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){for(var e=u.call(arguments),t=_.max(_.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=_.pluck(e,""+r);return n},_.unzip=function(e){var t=_.max(_.pluck(e,"length"));return _.times(t,_.partial(_.pluck,e))},_.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},_.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=_.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},_.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},_.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=Array(r);r>i;)a[i++]=e,e+=n;return a};var F=function(){};_.bind=function(e,t){var n,r;if(e.bind===j&&j)return j.apply(e,u.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));F.prototype=e.prototype;var i=new F;F.prototype=null;var a=e.apply(i,n.concat(u.call(arguments)));return Object(a)===a?a:i}},_.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},_.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw Error("bindAll must be passed function names");return O(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var r=t.apply(this,arguments);return _.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},_.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(u.call(arguments,1)))},_.throttle=function(e,t,n){var r,i,a,o,u=0,l=function(){u=new Date,a=null,o=e.apply(r,i)};return function(){var c=new Date;u||n!==!1||(u=c);var f=t-(c-u);return r=this,i=arguments,0>=f?(clearTimeout(a),a=null,u=c,o=e.apply(r,i)):a||(a=setTimeout(l,f)),o}},_.debounce=function(e,t,n){var r,i;return function(){var a=this,o=arguments,u=function(){r=null,n||(i=e.apply(a,o))},l=n&&!r;return clearTimeout(r),r=setTimeout(u,t),l&&(i=e.apply(a,o)),i}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},_.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},_.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&t.push(n);return t},_.values=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push(e[n]);return t},_.pairs=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push([n,e[n]]);return t},_.invert=function(e){var t={};for(var n in e)_.has(e,n)&&(t[e[n]]=n);return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=function(e){return O(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},_.pick=function(e){var t={},n=l.apply(r,u.call(arguments,1));return O(n,function(n){n in e&&(t[n]=e[n])}),t},_.omit=function(e){var t={},n=l.apply(r,u.call(arguments,1));for(var i in e)_.contains(n,i)||(t[i]=e[i]);return t},_.defaults=function(e){return O(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e};var T=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var i=c.call(e);if(i!=c.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=T(e[o],t[o],n,r)););}else{var l=e.constructor,f=t.constructor;if(l!==f&&!(_.isFunction(l)&&l instanceof l&&_.isFunction(f)&&f instanceof f))return!1;for(var s in e)if(_.has(e,s)&&(o++,!(u=_.has(t,s)&&T(e[s],t[s],n,r))))break;if(u){for(s in t)if(_.has(t,s)&&!o--)break;u=!o}}return n.pop(),r.pop(),u};_.isEqual=function(e,t){return T(e,t,[],[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=x||function(e){return"[object Array]"==c.call(e)},_.isObject=function(e){return e===Object(e)},O(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),_.isFunction=function(e){return"function"==typeof e},_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!=+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return f.call(e,t)},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=_.invert(M.escape);var N={escape:RegExp("["+_.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(M.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return M[e][t]})}}),_.result=function(e,t){if(null==e)return void 0;var n=e[t];return _.isFunction(n)?n.call(e):n},_.mixin=function(e){O(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),z.call(this,n.apply(_,e))}})};var I=0;_.uniqueId=function(e){var t=++I+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,n){var r;n=_.defaults({},n,_.templateSettings);var i=RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(a,u).replace(q,function(e){return"\\"+C[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,_);var l=function(e){return r.call(this,e,_)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},_.chain=function(e){return _(e).chain()};var z=function(e){return this._chain?_(e).chain():e};_.mixin(_),O(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],z.call(this,n)}}),O(["concat","join","slice"],function(e){var t=r[e];_.prototype[e]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),n("underscore",function(){}),n("polyfills",["underscore","debug"],function(){function e(){Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(e,t){var n=this[e],r=n,i=function(){return r},a=function(i){return n=r,r=t.call(this,e,n,i)};delete this[e]&&Object.defineProperty(this,e,{get:i,set:a,enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var t=this[e];delete this[e],this[e]=t}})}var t=function(){if(_.isArray(arguments[0]))for(var t=arguments[0],n=0,r=t.length;r>n;n++)if("string"==typeof t[n])switch(t[n].toLowerCase()){case"watch":e()}};(function(){t(["watch"])})()}),n("foxneod",["player","utils","css","polyfills","debug"],function(e,t,n,r,i){var a={android:!1,ios:!1,flash:!1};return function(){i.log("Ready",{buildDate:"2013-05-07 04:05:28",authors:"https://twitter.com/brandonaaskov"},"!"),FDM_Player_vars.isFlash?a.flash=!0:FDM_Player_vars.isIOS&&(a.ios=!0)}(),{version:"0.1.4",packageName:"foxneod",player:e,utils:t,debug:i}}),t(["almond","foxneod","utils"],function(e,t,n){window.FoxNEOD=window.$f=t,n.dispatchEvent("ready")}),n("main",function(){})})();
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:tp="player.theplatform.com" xml:lang="en" lang="en">
<head>
    <meta name="tp:preferredFormats" content="mpeg4,webm,ogg,flv" />	
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-language" content="en" />

	<title>PDK :: FX Reference Player</title>
	<style type="text/css">
		body {
			font:normal 12px/15px Arial,Helvetica,sans-serif;
		}
		#main {
			overflow:auto;
			height:380px;
		}
		#player 
		{
			width:640px;
			height:360px;
			float:left;
			margin-right:16px;
		}
		#video-title {
			display:block;
			height:20px;
			font-weight:bold;
			font-size:16px;
		}
		.load-video {
			display:block;
			float:left;
			width:145px;
			height:80px;
			background-repeat:no-repeat;
			text-indent:-999px;
			overflow:hidden;
			margin-right:16px;
			border:2px solid #000;
		}
		.playing {
			border-color:#f00;
		}
	</style>

    <script type="text/javascript" src="mootools-core-1.4.5-full-compat.js"></script>
</head>
<body>

<div id="main">

<!-- Player DIV -->
	<div id="player"></div>

	<div id="adBlock">
		<div id="ad">
			<span id="300x250slot" class="_fwph">
				<form id="_fw_form_300x250slot" style="display:none">
					<input type="hidden" name="_fw_input_300x250slot" id="_fw_input_300x250slot" value="w=300&h=250&envp=g_js&sflg=-nrpl;">
				</form>
				<span id="_fw_container_300x250slot" class="_fwac"></span>
			</span>
		</div>
	</div>
	<div id="pauseAd"></div>
</div>
<br/>

<!-- Thumbnails -->

<a href="#" rel="http://link.theplatform.com/s/fxnetworks/oDwAThTJ95NP?mbr=true" class="load-video playing" style="background-image:url(http://static-media.fxnetworks.com/img/FX_Networks/256/686/BrandX_113_PROMO_DANIEL_FXWEB_145x80_11009091706.jpg)">Expand your mind!</a>

<a href="#" rel="http://link.theplatform.com/s/fxnetworks/7kbOsPYs4bsp?mbr=true" class="load-video" style="background-image:url(http://static-media.fxnetworks.com/img/FX_Networks/64/294/Sunny_803_20_FXWEB_145x80_10803267813.jpg)">Next On: Charlie Rules the World</a>

<a href="#" rel="http://link.theplatform.com/s/fxnetworks/6S_T_x2t8ukZ?mbr=true" class="load-video" style="background-image:url(http://static-media.fxnetworks.com/img/FX_Networks/981/938/SOA_BeforeTheAnarchy_520_FINAL_FXWEB_145x80_9617987997.jpg)">Before the Anarchy: Clay and Juice</a>

<!-- Player below this point -->
<script type="text/javascript" src="../js/player_qa.js"></script>
<script type="text/javascript">
	var createPlayer = function () {
//        var player = new FDM_Player(playerId, 640, 360);
        var player = new FDM_Player("player", 640, 360);

        player.autoplay = true;

        var this_protocol = ((window.location.protocol == 'https:')?'https:':'http:');

        player.endcard_playlist		= this_protocol+'//feed.theplatform.com/f/fxnetworks/yFnM2BtjUr9F?form=json';
        player.endcard_related		= this_protocol+'//feed.theplatform.com/f/fxnetworks/editorial?form=json';
        player.endcard_editorial	= this_protocol+'//feed.theplatform.com/f/fxnetworks/editorial?form=json';

        player.share_deeplink		= 'http://vod.fxnetworks.com/watch/louie/';
        player.share_embed			= 'true';
        player.share_email			= 'true';

        player.siteSection			= 'FX_shows_louie_site_videos';

        player.releaseURL			= this_protocol+'//link.theplatform.com/s/fxnetworks/oDwAThTJ95NP?mbr=true';

        player.addEventListener("OnMediaLoadStart",	player.onMediaLoadStart);
        player.addEventListener("OnMediaPause",		function(e){if(e && e.data && e.data.userInitiated) {tpController.showFullScreen(false);}});

        // =============================================
        // This bit is just here for demo purposes
        // =============================================
        var myVideos = document.querySelectorAll('.load-video');
        for(var i=0; i<myVideos.length; i++) {
            // Loop through video links and assign event handler
            myVideos[i].addEventListener('click', function(e) {
                // prevent default
                e.preventDefault();

                if(e.target.rel) {
                    // use the rel value as the releaseURL
                    player.setReleaseCall(e.target.rel);

                    // reset and assign CSS class names
                    for(var i=0; i<myVideos.length; i++) {
                        myVideos[i].className = "load-video";
                    }
                    e.target.className += " playing";
                }
            }, true);
        }

        // =============================================
        // For console-deprived browsers
        // =============================================
        if(typeof(console) == "undefined"){
            console		= new Object();
            console.log	= new Function();
        }
    };

    createPlayer();
</script>

</body>
</html>